<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>知识库相关开源项目</title>
      <link href="/2022/08/06/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%9B%B8%E5%85%B3%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/"/>
      <url>/2022/08/06/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%9B%B8%E5%85%B3%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="知识库相关开源项目"><a href="#知识库相关开源项目" class="headerlink" title="知识库相关开源项目"></a>知识库相关开源项目</h2><h3 id="开源Wiki类"><a href="#开源Wiki类" class="headerlink" title="开源Wiki类"></a>开源Wiki类</h3><table><thead><tr><th>名称</th><th>国内&#x2F;国外</th><th>开源地址&#x2F;官网地址</th><th>开发语言、技术栈</th><th>开源协议</th></tr></thead><tbody><tr><td>XWiki</td><td>国外</td><td><a href="http://www.xwiki.org/xwiki/bin/view/Main/WebHome">XWiki - The Advanced Open Source Enterprise and Application Wiki (XWiki.org)</a></td><td>Java，Html，JS</td><td>LGPL-2.1</td></tr><tr><td>WikiJs</td><td>国外</td><td><a href="https://js.wiki/">Wiki.js</a></td><td>NodeJS，Html，JS</td><td>AGPL-3.0</td></tr><tr><td>JSPWiki</td><td>国外</td><td><a href="https://jspwiki.apache.org/">Apache JSPWiki</a></td><td>Java，servlets，JSP</td><td>Apache-2.0</td></tr><tr><td>Dokuwiki</td><td>国外</td><td><a href="https://www.dokuwiki.org/dokuwiki">dokuwiki [DokuWiki]</a></td><td>PHP，Js，Html</td><td>GPL-2.0</td></tr><tr><td>MediaWiki</td><td>国外</td><td><a href="https://www.mediawiki.org/">https://www.mediawiki.org/</a></td><td>PHP，Js，Html</td><td>GPL-2.0</td></tr><tr><td>MM-Wiki</td><td>国内</td><td><a href="https://github.com/phachon/mm-wiki">phachon&#x2F;mm-wiki: MM-Wiki一个轻量级的企业知识分享与团队协同软件，可用于快速构建企业Wiki和团队知识分享平台。部署方便，使用简单，帮助团队构建一个信息共享、文档管理的协作环境。(github.com)</a></td><td>Golang，Html，JS</td><td>MIT</td></tr><tr><td>MrDoc(觅思文档)</td><td>国内</td><td><a href="https://www.mrdoc.pro/">觅思文档MrDoc -私有云笔记、云文档和知识库系统</a></td><td>Python3+Django，Html，JS</td><td>GPL-3.0</td></tr><tr><td>zyplayer-doc</td><td>国内</td><td><a href="https://gitee.com/zyplayer/zyplayer-doc">zyplayer-doc: zyplayer-doc是一款在线文档工具，现有数据库文档、WIKI文档、Swagger接口文档、OpenApi接口文档、Dubbo文档(gitee.com)</a></td><td>Java，JS，vue，Html</td><td>Apache-2.0</td></tr><tr><td>MiniWiki</td><td>国内</td><td><a href="https://github.com/mindoc-org/mindoc">mindoc-org&#x2F;mindoc: Golang实现的基于beego框架的接口在线文档管理系统(github.com)</a></td><td>Golang，Smarty， beego</td><td>Apache-2.0</td></tr><tr><td>Wizard</td><td>国内</td><td><a href="https://github.com/mylxsw/wizard">mylxsw&#x2F;wizard: Wizard是一款开源的文档管理工具，支持Markdown&#x2F;Swagger&#x2F;Table类型的文档。(github.com)</a></td><td>PHP，Blade，Vue</td><td>Apache-2.0</td></tr></tbody></table><p><strong>开源论坛问答类</strong></p><table><thead><tr><th>名称</th><th>国内&#x2F;外</th><th>开源地址&#x2F;官网地址</th><th>开发语言、技术栈</th><th>开源协议</th></tr></thead><tbody><tr><td>NodeBB</td><td>国外</td><td><a href="https://github.com/NodeBB/NodeBB">NodeBB&#x2F;NodeBB: Node.js based forum software built for the modern web (github.com)</a></td><td>Js,Smarty</td><td>GPL-3</td></tr><tr><td>Discuz(X&#x2F;Q)</td><td>国内</td><td><a href="https://discuz.com/">Discuz! Q -再小众，也有圈子-开源的PHP内容付费轻社区</a></td><td>PHP，Vue，JS</td><td>Apache-2.0</td></tr><tr><td>Flarum</td><td>国外</td><td><a href="https://github.com/flarum/flarum">flarum&#x2F;flarum: Simple forum software for building great communities. (github.com)</a></td><td>PHP，Html，JS</td><td>MIT</td></tr><tr><td>MlTree Forum</td><td>国内</td><td><a href="https://github.com/mltreegroup/MlTree-Forum">mltreegroup&#x2F;MlTree-Forum: MlTree Forum是一款由Thinkphp构建、Material Design风格的轻论坛。(github.com)</a></td><td>PHP，Html，JS</td><td>Apache-2.0</td></tr><tr><td>MDClub</td><td>国内</td><td><a href="https://www.mdclub.org/">MDClub -开源Material Design样式的社区,论坛系统</a> <a href="https://github.com/zdhxiong/mdclub">zdhxiong&#x2F;mdclub: MDClub社区系统后端代码(github.com)</a></td><td>PHP，Hack</td><td>MIT</td></tr></tbody></table><h3 id="开源在线学习类"><a href="#开源在线学习类" class="headerlink" title="开源在线学习类"></a>开源在线学习类</h3><table><thead><tr><th>名称</th><th>国内&#x2F;外</th><th>开源地址&#x2F;官网地址</th><th>开发语言、技术栈</th><th>开源协议</th></tr></thead><tbody><tr><td>智慧云智能教育平台</td><td>国内</td><td><a href="https://gitee.com/zhuimengshaonian/wisdom-education#%E6%99%BA%E6%85%A7%E4%BA%91%E6%99%BA%E8%83%BD%E6%95%99%E8%82%B2%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0">wisdom-education:基于SpringBoot + Mybatis Plus + Shiro + mysql + redis构建的智慧云智能教育平台。架构上使用完全前后端分离。支持多种题型：选择题、多选题、判断题、填空题、综合题以及数学公式。支持在线考试，教师在线批改试卷。(gitee.com)</a></td><td>Java，FreeMarker，Html</td><td>Apache-2.0</td></tr><tr><td>学之思开源考试系统 - Mysql版</td><td>国内</td><td><a href="https://github.com/mindskip/xzs-mysql">mindskip&#x2F;xzs-mysql:学之思开源考试系统是一款java + vue的前后端分离的考试系统。主要优点是开发、部署简单快捷、界面设计友好、代码结构清晰。支持web端和微信小程序，能覆盖到pc机和手机等设备。支持多种部署方式：集成部署、前后端分离部署、docker部署。(github.com)</a></td><td>JS，Java，Vue，Html</td><td>AGPL-3.0</td></tr><tr><td>领课教育系统</td><td>国内</td><td><a href="https://gitee.com/roncoocom/roncoo-education">roncoo-education:领课教育系统（roncoo-education）是基于领课网络多年的在线教育平台开发和运营经验打造出来的产品，致力于打造一个各行业都适用的分布式在线教育系统。系统采用前后端分离模式，前台采用vue.js为核心框架，后台采用Spring Cloud为核心框架。系统目前主要功能有课程点播功能，支持多家视频云的接入，课程附件管理功能，支持多家存储云的接入，讲师管理功能，支持讲师入驻功能，可以帮助个人或者企业快速搭建一个轻量级的在线教育平台。(gitee.com)</a></td><td>Java</td><td>MIT</td></tr></tbody></table><h3 id="开源-对象-x2F-文件-（分布式）存储系统"><a href="#开源-对象-x2F-文件-（分布式）存储系统" class="headerlink" title="开源 对象&#x2F;文件 （分布式）存储系统"></a>开源 对象&#x2F;文件 （分布式）存储系统</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开发语言、技术栈</th><th>开源协议</th></tr></thead><tbody><tr><td>seaweedfs</td><td><a href="https://github.com/chrislusf/seaweedfs">chrislusf&#x2F;seaweedfs: SeaweedFS is a fast distributed storage system for blobs, objects, files, and data lake, for billions of files! Blob store has O(1) disk seek, cloud tiering. Filer supports Cloud Drive, cross-DC active-active replication, Kubernetes, POSIX FUSE mount, S3 API, S3 Gateway, Hadoop, WebDAV, encryption, Erasure Coding. (github.com)</a></td><td>Golang,Java</td><td>Apache-2.0</td></tr><tr><td>minio</td><td><a href="http://www.minio.org.cn/integrations.shtml">MinIO产品集成</a>(官网) <a href="https://github.com/minio/minio">minio&#x2F;minio: High Performance, Kubernetes Native Object Storage (github.com)</a></td><td>Golang</td><td>AGPL-3.0</td></tr><tr><td>Alluxio</td><td><a href="https://www.alluxio.io/">Alluxio - Data Orchestration for the Cloud</a>(官网) <a href="https://github.com/Alluxio/alluxio">Alluxio&#x2F;alluxio：Alluxio，用于云中分析和机器学习的数据编排 (github.com)</a></td><td>Java</td><td>Apache-2.0</td></tr><tr><td>curve</td><td><a href="https://github.com/opencurve/curve">opencurve&#x2F;curve: Curve is a better-used cloud-native SDS storage system, featured with high performance, easy operation, cloud native. Curve is composed with CurveBS and CurveFS based on Raft. (github.com)</a></td><td>C++</td><td>Apache-2.0</td></tr><tr><td>Swift</td><td><a href="https://docs.openstack.org/swift/latest/">Welcome to Swift’s documentation! — Swift 2.30.0.dev28 documentation (openstack.org)</a>(官网) <a href="https://github.com/openstack/swift">openstack&#x2F;swift: OpenStack Storage (Swift). Mirror of code maintained at opendev.org. (github.com)</a></td><td>Python</td><td>Apache-2.0</td></tr><tr><td>ceph</td><td><a href="https://ceph.com/en/">Ceph.io — Home</a> <a href="https://github.com/ceph/ceph">ceph&#x2F;ceph: Ceph is a distributed object, block, and file storage platform (github.com)</a></td><td>C++,Python,Raku,C,TypeStript</td><td>BSD3&#x2F;MIT&#x2F;GPL3&#x2F;LGPL2&#x2F;Apache2.0</td></tr><tr><td>juicefs</td><td><a href="https://github.com/juicedata/juicefs">juicedata&#x2F;juicefs: JuiceFS is a distributed POSIX file system built on top of Redis and S3. (github.com)</a></td><td>Golang,Java</td><td>Apache-2.0</td></tr><tr><td>FastDFS</td><td><a href="https://gitee.com/fastdfs100/fastdfs#https://gitee.com/fastdfs100/FastCFS">FastDFS: FastDFS是一款轻量级的开源分布式文件系统，功能包括：文件存储、文件同步、文件上传、文件下载等，解决了文件大容量存储和高性能访问问题。特别适合以文件为载体的在线服务，如图片、视频、文档服务等等。FastDFS相关文章请搜索微信公众号：fastdfs (gitee.com)</a></td><td>C</td><td>GPL-3.0</td></tr><tr><td>FastCFS</td><td><a href="https://gitee.com/fastdfs100/FastCFS">FastCFS: FastCFS是一款支持百亿级海量文件的高性能通用分布式文件系统 ，可以作为数据库（MySQL、PostgresSQL、Oracle等）、k8s、KVM和NAS等系统的后端存储。 (gitee.com)</a></td><td>C</td><td>AGPL-3.0</td></tr><tr><td>TFS</td><td><a href="https://github.com/alibaba/tfs">alibaba&#x2F;tfs：TFS（淘宝文件系统）是一个类似于 GFS 的分布式文件系统。 (github.com)</a></td><td>C++</td><td>GPL-2.0</td></tr><tr><td>ambry</td><td><a href="https://github.com/linkedin/ambry">linkedin&#x2F;ambry: Distributed object store (github.com)</a></td><td>Java</td><td>Apache-2.0</td></tr><tr><td>moosefs</td><td><a href="https://moosefs.com/">MooseFS Distributed File System – the best Open Source SDS</a> <a href="https://github.com/moosefs/moosefs">moosefs&#x2F;moosefs: MooseFS – Open Source, Petabyte, Fault-Tolerant, Highly Performing, Scalable Network Distributed File System (Software-Defined Storage) (github.com)</a></td><td>C,Makefile,Shell</td><td>GPL-2.0</td></tr><tr><td>glusterfs</td><td><a href="https://www.gluster.org/">Gluster</a> <a href="https://github.com/gluster/glusterfs">gluster&#x2F;glusterfs: Gluster Filesystem : Build your distributed storage in minutes (github.com)</a></td><td>C,Python,Shell</td><td>GPL-2.0</td></tr></tbody></table><h3 id="开源富文本编辑器"><a href="#开源富文本编辑器" class="headerlink" title="开源富文本编辑器"></a>开源富文本编辑器</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开源协议</th></tr></thead><tbody><tr><td>Tiptap</td><td><a href="https://tiptap.dev/">Headless WYSIWYG Text Editor–Tiptap Editor</a>(官网) <a href="https://github.com/ueberdosis/tiptap">ueberdosis&#x2F;tiptap: The headless editor framework for web artisans. (github.com)</a></td><td>MIT</td></tr><tr><td>Tinymce</td><td><a href="https://www.tiny.cloud/">The Most Advanced WYSIWYG HTML Editor | Trusted Rich Text Editor | TinyMCE</a>(官网) <a href="https://github.com/tinymce/tinymce">tinymce&#x2F;tinymce: The world’s #1 JavaScript library for rich text editing. Available for React, Vue and Angular (github.com)</a></td><td>MIT</td></tr><tr><td>Quill</td><td><a href="https://quilljs.com/">Quill - Your powerful rich text editor (quilljs.com)</a> <a href="https://github.com/quilljs/quill/">https://github.com/quilljs/quill/</a></td><td>BSD-3</td></tr><tr><td>vue-quill-editor</td><td><a href="https://www.kancloud.cn/liuwave/quill/1434140">vue-quill-editor·Quill官方中文文档·看云(kancloud.cn)</a></td><td>BSD-3</td></tr><tr><td>Summernote</td><td><a href="https://summernote.org/">Summernote - Super Simple WYSIWYG editor</a>(官网) <a href="https://github.com/summernote/summernote/">summernote&#x2F;summernote: Super simple WYSIWYG editor (github.com)</a></td><td>MIT</td></tr><tr><td>Ueditor</td><td><a href="https://github.com/fex-team/ueditor">fex-team&#x2F;ueditor: rich text 富文本编辑器 (github.com)</a></td><td>MIT</td></tr><tr><td>vue-ueditor</td><td><a href="https://github.com/HaoChuan9421/vue-ueditor-wrap">haochuan9421&#x2F;vue-ueditor-wrap:</a></td><td>MIT</td></tr><tr><td>wangEditor5</td><td><a href="https://www.wangeditor.com/">wangEditor</a>(官网) <a href="https://github.com/wangeditor-team/wangEditor/">wangeditor-team&#x2F;wangEditor: wangEditor——开源Web富文本编辑器(github.com)</a></td><td>MIT</td></tr><tr><td>simditor</td><td><a href="https://simditor.tower.im/">Simditor (tower.im)</a> <a href="https://github.com/mycolorway/simditor">mycolorway&#x2F;simditor: An Easy and Fast WYSIWYG Editor (github.com)</a></td><td>MIT</td></tr><tr><td>jodit V.3</td><td><a href="https://xdsoft.net/jodit/">Jodit Editor v.3 (xdsoft.net)</a> <a href="https://github.com/xdan/jodit">xdan&#x2F;jodit: Jodit - Best WYSIWYG Editor for You (github.com)</a></td><td>MIT</td></tr></tbody></table><h3 id="开源Markdown编辑器"><a href="#开源Markdown编辑器" class="headerlink" title="开源Markdown编辑器"></a>开源Markdown编辑器</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开源协议</th></tr></thead><tbody><tr><td>Editor.md</td><td><a href="https://pandao.github.io/editor.md/">Editor.md -开源在线Markdown编辑器(pandao.github.io)</a> <a href="https://github.com/pandao/editor.md">pandao&#x2F;editor.md: The open source embeddable online markdown editor (component). (github.com)</a></td><td>MIT</td></tr><tr><td>vue-markdown</td><td><a href="https://github.com/zhaoxuhui1122/vue-markdown">zhaoxuhui1122&#x2F;vue-markdown:一款使用marked和highlight.js开发的一款markdown编辑器(github.com)</a></td><td>MIT</td></tr><tr><td>mavonEditor</td><td><a href="https://github.com/hinesboy/mavonEditor">hinesboy&#x2F;mavonEditor: mavonEditor - A markdown editor based on Vue that supports a variety of personalized features (github.com)</a></td><td>MIT</td></tr><tr><td>md-editor-v3</td><td><a href="https://github.com/imzbf/md-editor-v3/blob/dev/README-CN.md">md-editor-v3&#x2F;README-CN.md at dev·imzbf&#x2F;md-editor-v3 (github.com)</a></td><td>MIT</td></tr><tr><td>bytemd</td><td><a href="https://github.com/bytedance/bytemd">bytedance&#x2F;bytemd: A hackable Markdown editor component (github.com)</a></td><td>MIT</td></tr></tbody></table><h3 id="开源Html渲染数学公式库"><a href="#开源Html渲染数学公式库" class="headerlink" title="开源Html渲染数学公式库"></a>开源Html渲染数学公式库</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开源协议</th></tr></thead><tbody><tr><td>Katex</td><td><a href="https://katex.org/">KaTeX–The fastest math typesetting library for the web</a> <a href="https://github.com/KaTeX/KaTeX">KaTeX&#x2F;KaTeX: Fast math typesetting for the web. (github.com)</a></td><td>MIT</td></tr><tr><td>AsciiMath</td><td><a href="http://asciimath.org/#gettingStarted">AsciiMath</a></td><td>MIT</td></tr><tr><td>MathJax</td><td><a href="https://www.mathjax.org/">MathJax | Beautiful math in all browsers.</a> <a href="https://github.com/mathjax/MathJax-src">https://github.com/mathjax/MathJax-src</a></td><td>Apache-2.0</td></tr></tbody></table><h3 id="开源搜索引擎库"><a href="#开源搜索引擎库" class="headerlink" title="开源搜索引擎库"></a>开源搜索引擎库</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开发语言</th><th>开源协议</th></tr></thead><tbody><tr><td><a href="https://github.com/meilisearch/meilisearch">meilisearch</a></td><td><a href="https://www.meilisearch.com/pricing">Meilisearch | Pricing</a> <a href="https://github.com/meilisearch/MeiliSearch">meilisearch&#x2F;meilisearch: Powerful, fast, and an easy to use search engine (github.com)</a></td><td>Rust</td><td>MIT</td></tr><tr><td><a href="https://www.elastic.co/elasticsearch/">Elasticsearch</a></td><td><a href="https://github.com/elastic/elasticsearch">elastic&#x2F;elasticsearch: Free and Open, Distributed, RESTful Search Engine (github.com)</a></td><td>Java</td><td>SSPL&#x2F;Apache2.0</td></tr><tr><td>Lucene</td><td><a href="https://lucene.apache.org/">Apache Lucene - Welcome to Apache Lucene</a>(官网) <a href="https://gitbox.apache.org/repos/asf?p=lucene.git">ASF Git Repos - lucene.git&#x2F;summary (apache.org)</a> <a href="https://github.com/apache/lucene">apache&#x2F;lucene: Apache Lucene open-source search software (github.com)</a></td><td>Java</td><td>Apache-2.0</td></tr><tr><td>ApacheSolr</td><td><a href="https://solr.apache.org/downloads.html">Solr Downloads - Apache Solr</a>(官网) <a href="https://gitbox.apache.org/repos/asf?p=solr.git">ASF Git Repos - solr.git&#x2F;summary (apache.org)</a> <a href="https://github.com/apache/solr">apache&#x2F;solr: Apache Solr open-source search software (github.com)</a></td><td>Java</td><td>Apache-2.0</td></tr><tr><td>Sphinx</td><td><a href="http://sphinxsearch.com/">Sphinx | Open Source Search Engine (sphinxsearch.com)</a> <a href="https://github.com/sphinxsearch/sphinx/">sphinxsearch&#x2F;sphinx: Sphinx search server (github.com)</a></td><td>C++</td><td>GPL-2.0</td></tr></tbody></table><h3 id="开源文件预览方案"><a href="#开源文件预览方案" class="headerlink" title="开源文件预览方案"></a>开源文件预览方案</h3><table><thead><tr><th>名称</th><th>开源地址&#x2F;官网地址</th><th>开发语言</th><th>开源协议</th></tr></thead><tbody><tr><td>kkfileview</td><td><a href="https://kkfileview.keking.cn/zh-cn/index.html">kkFileView - 在线文件预览 (keking.cn)</a>（官网） <a href="https://gitee.com/kekingcn/file-online-preview">kkFileView: 使用spring boot打造文件文档在线预览项目解决方案，支持doc、docx、ppt、pptx、xls、xlsx、zip、rar、mp4、mp3以及众多类文本如txt、html、xml、java、properties、sql、js、md、json、conf、ini、vue、php、py、bat、gitignore等文件在线预览 (gitee.com)</a></td><td>Java</td><td>Apache-2.0</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 开源项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 知识库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IIS反向代理配置</title>
      <link href="/2022/07/19/IIS%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"/>
      <url>/2022/07/19/IIS%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="第一步："><a href="#第一步：" class="headerlink" title="第一步："></a>第一步：</h2><p>安装 URL Rewrite和Application Request Routing（简称为ARR）两个IIS模块</p><p>ARR 下载地址： <a href="https://www.iis.net/downloads/microsoft/application-request-routing">Application Request Routing : The Official Microsoft IIS Site</a></p><p>URL Rewrite下载地址：<a href="https://www.iis.net/downloads/microsoft/url-rewrite">URL Rewrite : The Official Microsoft IIS Site</a></p><p><img src="/myfile/2022-07-21-14-44-05-image.png"></p><p><img src="/myfile/2022-07-21-14-44-20-image.png"></p><h2 id="第二步："><a href="#第二步：" class="headerlink" title="第二步："></a>第二步：</h2><p>1、启用ARR Proxy：在服务器上面，找到IIS管理器，点击Application Request Routing（简称为ARR）图标，选择Server Proxy Settings，勾上Enable proxy并点击右侧的应用。</p><p><img src="/myfile/2022-07-21-14-46-35-image.png"></p><p><img src="/myfile/2022-07-21-14-46-59-image.png"></p><p><img src="/myfile/2022-07-21-14-47-49-image.png"></p><p>2、添加URL重写规则</p><p><img src="/myfile/2022-07-21-15-11-58-image.png"></p><p><img src="/myfile/2022-07-21-15-11-00-image.png"></p><p><img src="/myfile/2022-07-21-15-13-22-image.png"></p><p>至此即可将本服务器地址统一反向代理到目标服务器地址</p><p>3.进阶设置</p><p>双击规则，进行详细编辑</p><p><img src="/myfile/2022-07-21-15-16-57-image.png"></p><p>分别通过模式及下方条件修改添加过滤，进行具体匹配后反向代理</p><p><img src="/myfile/2022-07-21-15-17-46-image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IIS </tag>
            
            <tag> 反向代理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Neo4j脚本</title>
      <link href="/2022/07/19/Neo4J%E8%84%9A%E6%9C%AC/"/>
      <url>/2022/07/19/Neo4J%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h3 id="规范标准及CCS分类"><a href="#规范标准及CCS分类" class="headerlink" title="规范标准及CCS分类"></a>规范标准及CCS分类</h3><h4 id="导入StradardDoc节点"><a href="#导入StradardDoc节点" class="headerlink" title="导入StradardDoc节点"></a>导入StradardDoc节点</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///NewStandardDocument.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="导入StradardDoc节点-（水利部分）"><a href="#导入StradardDoc节点-（水利部分）" class="headerlink" title="导入StradardDoc节点 （水利部分）"></a>导入StradardDoc节点 （水利部分）</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///StandardDocument_shuili.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="导入CCS下的节点及层级关系"><a href="#导入CCS下的节点及层级关系" class="headerlink" title="导入CCS下的节点及层级关系"></a>导入CCS下的节点及层级关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS <span class="token keyword">FROM</span> <span class="token string">"file:///CCS_All.csv"</span> <span class="token keyword">AS</span> <span class="token keyword">row</span>  <span class="token keyword">merge</span> <span class="token punctuation">(</span>f:CCS&#123;CCS_Code:<span class="token keyword">row</span><span class="token punctuation">.</span>from_CCS_Code<span class="token punctuation">,</span>CCS_Name:<span class="token keyword">row</span><span class="token punctuation">.</span>from_CCS_Name<span class="token punctuation">,</span>CCSType:<span class="token keyword">row</span><span class="token punctuation">.</span>from_CCSType&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span><span class="token keyword">to</span>:CCS&#123;CCS_Code:<span class="token keyword">row</span><span class="token punctuation">.</span>to_CCS_Code<span class="token punctuation">,</span>CCS_Name:<span class="token keyword">row</span><span class="token punctuation">.</span>to_CCS_Name<span class="token punctuation">,</span>CCSType:<span class="token keyword">row</span><span class="token punctuation">.</span>to_CCSType&#125;<span class="token punctuation">)</span><span class="token keyword">with</span> f<span class="token punctuation">,</span><span class="token keyword">to</span><span class="token keyword">match</span> <span class="token punctuation">(</span>ff:CCS&#123;CCS_Code:f<span class="token punctuation">.</span>CCS_Code<span class="token punctuation">,</span>CCS_Name:f<span class="token punctuation">.</span>CCS_Name<span class="token punctuation">,</span>CCSType:f<span class="token punctuation">.</span>CCSType&#125;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>tt:CCS&#123;CCS_Code:<span class="token keyword">to</span><span class="token punctuation">.</span>CCS_Code<span class="token punctuation">,</span>CCS_Name:<span class="token keyword">to</span><span class="token punctuation">.</span>CCS_Name<span class="token punctuation">,</span>CCSType:<span class="token keyword">to</span><span class="token punctuation">.</span>CCSType&#125;<span class="token punctuation">)</span>  <span class="token keyword">merge</span> <span class="token punctuation">(</span>ff<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Contained<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="根据hasGBW-CCS-属性值-多个用-分隔-，创建StandardizingDocument-和-CCS-节点关系"><a href="#根据hasGBW-CCS-属性值-多个用-分隔-，创建StandardizingDocument-和-CCS-节点关系" class="headerlink" title="根据hasGBW_CCS 属性值(多个用|分隔)，创建StandardizingDocument 和 CCS 节点关系"></a>根据hasGBW_CCS 属性值(多个用|分隔)，创建StandardizingDocument 和 CCS 节点关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">with</span> s<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>hasGBW_CCS<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> ccsListunwind ccsList <span class="token keyword">as</span> ccsT<span class="token keyword">with</span> s<span class="token punctuation">,</span> ccsT<span class="token keyword">match</span> <span class="token punctuation">(</span>ccs:CCS<span class="token punctuation">)</span> <span class="token keyword">where</span> ccs<span class="token punctuation">.</span>CCS_Code<span class="token operator">=</span>ccsT<span class="token keyword">merge</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>中文分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>ccs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="创建索引-采用官方自带中文分词器"><a href="#创建索引-采用官方自带中文分词器" class="headerlink" title="创建索引,采用官方自带中文分词器"></a>创建索引,采用官方自带中文分词器</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CALL</span> db<span class="token punctuation">.</span><span class="token keyword">index</span><span class="token punctuation">.</span>fulltext<span class="token punctuation">.</span>createNodeIndex<span class="token punctuation">(</span><span class="token string">"sd_hasNoAndnameCN"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"StandardizingDocument"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"hasNO"</span><span class="token punctuation">,</span> <span class="token string">"nameCN"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>&#123;analyzer: <span class="token string">"cjk"</span>&#125;<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="材料库"><a href="#材料库" class="headerlink" title="材料库"></a>材料库</h3><h4 id="导入材料库数据"><a href="#导入材料库数据" class="headerlink" title="导入材料库数据"></a>导入材料库数据</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///Materials.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Material &#123;uuid: <span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>dataType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>dataType<span class="token punctuation">,</span>m<span class="token punctuation">.</span>typeUuid<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>cName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>clauseExplain<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>standardNos<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>picIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>videoIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="导入图片视频节点数据"><a href="#导入图片视频节点数据" class="headerlink" title="导入图片视频节点数据"></a>导入图片视频节点数据</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///MediaFiles.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>f:MediaFile&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>f<span class="token punctuation">.</span>filePath<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>filePath<span class="token punctuation">,</span>f<span class="token punctuation">.</span>mediaType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>mediaType<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="根据材料库picIds和videoIds-多个用-分隔-，与媒体文件库建立关系"><a href="#根据材料库picIds和videoIds-多个用-分隔-，与媒体文件库建立关系" class="headerlink" title="根据材料库picIds和videoIds(多个用|分隔)，与媒体文件库建立关系"></a>根据材料库picIds和videoIds(多个用|分隔)，与媒体文件库建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Material<span class="token punctuation">)</span><span class="token keyword">with</span> m<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>picIds<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span><span class="token operator">+</span>split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>videoIds<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> mediaListunwind mediaList <span class="token keyword">as</span> mediaid<span class="token keyword">with</span> m<span class="token punctuation">,</span> mediaid<span class="token keyword">match</span> <span class="token punctuation">(</span>mf:MediaFile<span class="token punctuation">)</span> <span class="token keyword">where</span> mf<span class="token punctuation">.</span>uuid<span class="token operator">=</span>mediaid<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>包含文件<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>mf<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="材料库规范数据导入"><a href="#材料库规范数据导入" class="headerlink" title="材料库规范数据导入"></a>材料库规范数据导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///材料库用规范.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="根据材料库standardNos-与标准规范库创建关系"><a href="#根据材料库standardNos-与标准规范库创建关系" class="headerlink" title="根据材料库standardNos,与标准规范库创建关系"></a>根据材料库standardNos,与标准规范库创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Material&#123;dataType:<span class="token string">'1'</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">where</span> m<span class="token punctuation">.</span>standardNos <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">with</span> m<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>standardNos<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> standardNoListunwind standardNoList <span class="token keyword">as</span> standardNo<span class="token keyword">with</span> m<span class="token punctuation">,</span> standardNo<span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span> <span class="token keyword">where</span> s<span class="token punctuation">.</span>path <span class="token keyword">contains</span> standardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>涉及规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="媒体文件与材料节点关系表导入关系"><a href="#媒体文件与材料节点关系表导入关系" class="headerlink" title="媒体文件与材料节点关系表导入关系"></a>媒体文件与材料节点关系表导入关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///meidaFile&amp;material.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Material&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>Materialuuid&#125;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>mf:MediaFile&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>MediaFileuuid&#125;<span class="token punctuation">)</span><span class="token keyword">with</span> m<span class="token punctuation">,</span>mf<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>包含文件<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>mf<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="材料上下级关系建立，根据uuid"><a href="#材料上下级关系建立，根据uuid" class="headerlink" title="材料上下级关系建立，根据uuid"></a>材料上下级关系建立，根据uuid</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :Material<span class="token punctuation">(</span>uuid<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>r:Material<span class="token punctuation">)</span><span class="token keyword">where</span> r<span class="token punctuation">.</span>typeUuid <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>unwind <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>rp:Material<span class="token punctuation">)</span>     <span class="token keyword">where</span> rp<span class="token punctuation">.</span>uuid<span class="token operator">=</span>i<span class="token punctuation">.</span>typeUuid    <span class="token keyword">with</span> i<span class="token punctuation">,</span>rp    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>rp<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="材料创建全文检索-cName-explain"><a href="#材料创建全文检索-cName-explain" class="headerlink" title="材料创建全文检索_cName,explain"></a>材料创建全文检索_cName,explain</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CALL</span> db<span class="token punctuation">.</span><span class="token keyword">index</span><span class="token punctuation">.</span>fulltext<span class="token punctuation">.</span>createNodeIndex<span class="token punctuation">(</span><span class="token string">"Material_CName"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"Material"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"cName"</span><span class="token punctuation">,</span> <span class="token string">"explain"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>&#123;analyzer: <span class="token string">"cjk"</span>&#125;<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="通用标准"><a href="#通用标准" class="headerlink" title="通用标准"></a>通用标准</h3><h4 id="通用标准信息-婚姻状态"><a href="#通用标准信息-婚姻状态" class="headerlink" title="通用标准信息-婚姻状态"></a>通用标准信息-婚姻状态</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///MaritalStatus.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:MaritalStatus &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>Code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>maritalStatus<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>MaritalStatus<span class="token punctuation">,</span>m<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SourceStandardNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-民族"><a href="#通用标准信息-民族" class="headerlink" title="通用标准信息-民族"></a>通用标准信息-民族</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///Nation.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Nation &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>Code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>Name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>romeName<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>RomeName<span class="token punctuation">,</span>m<span class="token punctuation">.</span>letterCode<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>LetterCode<span class="token punctuation">,</span>m<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SourceStandardNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-政治面貌"><a href="#通用标准信息-政治面貌" class="headerlink" title="通用标准信息-政治面貌"></a>通用标准信息-政治面貌</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///PoliticalStatus.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:PoliticalStatus &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>Code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>politicalStatus<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>PoliticalStatus<span class="token punctuation">,</span>m<span class="token punctuation">.</span>romeName<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>RomeName<span class="token punctuation">,</span>m<span class="token punctuation">.</span>shortName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ShortName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ShortName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SourceStandardNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-宗教"><a href="#通用标准信息-宗教" class="headerlink" title="通用标准信息-宗教"></a>通用标准信息-宗教</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///Religion.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Religion &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>Code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>Name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SourceStandardNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-性别"><a href="#通用标准信息-性别" class="headerlink" title="通用标准信息-性别"></a>通用标准信息-性别</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///Sex.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Sex &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>Code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>sexName<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SexName<span class="token punctuation">,</span>m<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>SourceStandardNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-行政区划（先创建索引，之后再导）"><a href="#通用标准信息-行政区划（先创建索引，之后再导）" class="headerlink" title="通用标准信息-行政区划（先创建索引，之后再导）"></a>通用标准信息-行政区划（先创建索引，之后再导）</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :Region<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///xzqh_Region.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Region &#123;id: <span class="token keyword">row</span><span class="token punctuation">.</span>region_id&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>parentId<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>parent_id <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>parent_id <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>code<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>code<span class="token punctuation">,</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>countryId<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>country_id<span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">level</span><span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">level</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>startDate<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>start_date<span class="token punctuation">,</span>m<span class="token punctuation">.</span>endDate<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>end_date <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>end_date <span class="token keyword">END</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">5000</span> <span class="token keyword">ROWS</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-国家"><a href="#通用标准信息-国家" class="headerlink" title="通用标准信息-国家"></a>通用标准信息-国家</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///xzqh_Country.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Country &#123;id: <span class="token keyword">row</span><span class="token punctuation">.</span>country_id&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>code_n<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_n <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_n <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>code_s<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_s <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_s <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>code_t<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_t <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>code_t <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>english_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>continent<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>continent&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">1000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-行政区划根据父级id-创建关系"><a href="#通用标准信息-行政区划根据父级id-创建关系" class="headerlink" title="通用标准信息-行政区划根据父级id 创建关系"></a>通用标准信息-行政区划根据父级id 创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>r:Region<span class="token punctuation">)</span><span class="token keyword">where</span> r<span class="token punctuation">.</span>parentId <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>unwind <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>rp:Region<span class="token punctuation">)</span>     <span class="token keyword">where</span> rp<span class="token punctuation">.</span>id<span class="token operator">=</span>i<span class="token punctuation">.</span>parentId     <span class="token keyword">with</span> i<span class="token punctuation">,</span>rp    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>rp<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或者</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///xzqh_Region_Relationship.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>r:Region&#123;id:<span class="token keyword">row</span><span class="token punctuation">.</span>region_id&#125;<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>rr:Region&#123;id:<span class="token keyword">row</span><span class="token punctuation">.</span>parent_id&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>rr<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-行政区划与国家创建关系"><a href="#通用标准信息-行政区划与国家创建关系" class="headerlink" title="通用标准信息-行政区划与国家创建关系"></a>通用标准信息-行政区划与国家创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>r:Region<span class="token punctuation">)</span> <span class="token keyword">where</span> r<span class="token punctuation">.</span>parentId <span class="token operator">is</span> <span class="token boolean">null</span>unwind <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">match</span> <span class="token punctuation">(</span>c:Country&#123;id:i<span class="token punctuation">.</span>countryId&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>所属国家<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准用到的规范导入"><a href="#通用标准用到的规范导入" class="headerlink" title="通用标准用到的规范导入"></a>通用标准用到的规范导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///新增民族婚姻状态等规范.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用标准信息-婚姻状态、民族、政治面貌、宗教、性别与规范关联"><a href="#通用标准信息-婚姻状态、民族、政治面貌、宗教、性别与规范关联" class="headerlink" title="通用标准信息-婚姻状态、民族、政治面貌、宗教、性别与规范关联"></a>通用标准信息-婚姻状态、民族、政治面貌、宗教、性别与规范关联</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>ms:MaritalStatus<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>ms<span class="token punctuation">.</span>sourceStandardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>ms:Nation<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>ms<span class="token punctuation">.</span>sourceStandardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>ms:PoliticalStatus<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>ms<span class="token punctuation">.</span>sourceStandardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>ms:Religion<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>ms<span class="token punctuation">.</span>sourceStandardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>ms:Sex<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span><span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>ms<span class="token punctuation">.</span>sourceStandardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="国民经济"><a href="#国民经济" class="headerlink" title="国民经济"></a>国民经济</h3><h4 id="国民经济行业分类导入"><a href="#国民经济行业分类导入" class="headerlink" title="国民经济行业分类导入"></a>国民经济行业分类导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :NationEconomyIndustryClass<span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///national_economy_industry.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:NationEconomyIndustryClass &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>annotation<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>annotation <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>annotation <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>parentCode<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>parentCode<span class="token punctuation">,</span>m<span class="token punctuation">.</span>classType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>classType<span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">level</span><span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">level</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="国民经济行业分类关系创建"><a href="#国民经济行业分类关系创建" class="headerlink" title="国民经济行业分类关系创建"></a>国民经济行业分类关系创建</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>n:NationEconomyIndustryClass<span class="token punctuation">)</span><span class="token keyword">where</span> n<span class="token punctuation">.</span>parentCode <span class="token operator">&lt;></span> <span class="token number">0</span>unwind <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>ne:NationEconomyIndustryClass<span class="token punctuation">)</span>     <span class="token keyword">where</span> ne<span class="token punctuation">.</span>code<span class="token operator">=</span>i<span class="token punctuation">.</span>parentCode    <span class="token keyword">with</span> i<span class="token punctuation">,</span>ne    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>ne<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="国民经济行业添加来源规范属性并创建规范关系"><a href="#国民经济行业添加来源规范属性并创建规范关系" class="headerlink" title="国民经济行业添加来源规范属性并创建规范关系"></a>国民经济行业添加来源规范属性并创建规范关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///国民经济分类.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:NationEconomyIndustryClass<span class="token punctuation">)</span> <span class="token keyword">where</span> n<span class="token punctuation">.</span>parentCode<span class="token operator">=</span><span class="token string">'0'</span> <span class="token keyword">set</span> n<span class="token punctuation">.</span>sourceStandardNo<span class="token operator">=</span><span class="token string">'GB/T 4754-2017'</span><span class="token punctuation">;</span><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:NationEconomyIndustryClass<span class="token punctuation">)</span> <span class="token keyword">where</span> n<span class="token punctuation">.</span>parentCode<span class="token operator">=</span><span class="token string">'0'</span> <span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument&#123;hasNO:<span class="token string">'GB/T 4754-2017'</span>&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>来源规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品分类库导入"><a href="#产品分类库导入" class="headerlink" title="产品分类库导入"></a>产品分类库导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :ProductCategory<span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///产品分类库.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:ProductCategory &#123;code: <span class="token keyword">row</span><span class="token punctuation">.</span>code&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>parentCode<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>parentCode<span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">level</span><span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">level</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品分类库关系创建"><a href="#产品分类库关系创建" class="headerlink" title="产品分类库关系创建"></a>产品分类库关系创建</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>n:ProductCategory<span class="token punctuation">)</span><span class="token keyword">where</span> n<span class="token punctuation">.</span>parentCode <span class="token operator">&lt;></span> <span class="token number">0</span>unwind <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>ne:ProductCategory<span class="token punctuation">)</span>     <span class="token keyword">where</span> ne<span class="token punctuation">.</span>code<span class="token operator">=</span>i<span class="token punctuation">.</span>parentCode    <span class="token keyword">with</span> i<span class="token punctuation">,</span>ne    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>ne<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="组织结构库导入"><a href="#组织结构库导入" class="headerlink" title="组织结构库导入"></a>组织结构库导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :Organization<span class="token punctuation">(</span>UnifiedSocialCreditCode<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///组织机构_港通_数据.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">call</span> &#123;<span class="token keyword">with</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Organization &#123;UnifiedSocialCreditCode: <span class="token keyword">row</span><span class="token punctuation">.</span>UnifiedSocialCreditCode&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>CName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CName <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>CShortName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CShortName <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CShortName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>EName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EName <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>EShortName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EShortName <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EShortName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>OrganizationStructureCategory<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>OrganizationStructureCategory <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>OrganizationStructureCategory <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>LegalPersonProperty<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>LegalPersonProperty <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>LegalPersonProperty <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>LegalRepresentative<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>LegalRepresentative <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>LegalRepresentative <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>IsUsing<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>IsUsing <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>IsUsing <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>RegistrationAuthority<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>RegistrationAuthority <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>RegistrationAuthority <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>Introduction<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Introduction <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Introduction <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>Coordinate<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Coordinate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Coordinate <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>DetailedAddress<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>DetailedAddress <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>DetailedAddress <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>CountryCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CountryCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CountryCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>ProvinceCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ProvinceCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ProvinceCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>CityCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CityCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CityCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>DistrictCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>DistrictCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>DistrictCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>NationEconomyIndustryCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>NationEconomyIndustryCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>NationEconomyIndustryCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>ProductClassCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ProductClassCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ProductClassCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>Tel<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Tel <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Tel <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>Email<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Email <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Email <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>PostalCode<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>PostalCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>PostalCode <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>Fax<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Fax <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>Fax <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>OfficialWebsite<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>OfficialWebsite <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>OfficialWebsite <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>ManagementState<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ManagementState <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>ManagementState <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>BusinessRegistrationNo<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessRegistrationNo <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessRegistrationNo <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>RegisteredCapital<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>RegisteredCapital <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>RegisteredCapital <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>EstablishedDate<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EstablishedDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>EstablishedDate <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>CancelDate<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CancelDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>CancelDate <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>BusinessTerm<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessTerm <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessTerm <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>BusinessScope<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessScope <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>BusinessScope <span class="token keyword">END</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="组织机构与产品分类建立关系"><a href="#组织机构与产品分类建立关系" class="headerlink" title="组织机构与产品分类建立关系"></a>组织机构与产品分类建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token keyword">with</span> o<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>ProductClassCode<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> pcodeListunwind pcodeList <span class="token keyword">as</span> pcode<span class="token keyword">with</span> o<span class="token punctuation">,</span> pcode<span class="token keyword">match</span> <span class="token punctuation">(</span>p:ProductCategory&#123;code:pcode&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>产品<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="组织机构与国民行业分类建立关系"><a href="#组织机构与国民行业分类建立关系" class="headerlink" title="组织机构与国民行业分类建立关系"></a>组织机构与国民行业分类建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token keyword">with</span> o<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>NationEconomyIndustryCode<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> pcodeListunwind pcodeList <span class="token keyword">as</span> pcode<span class="token keyword">with</span> o<span class="token punctuation">,</span> pcode<span class="token keyword">match</span> <span class="token punctuation">(</span>p:NationEconomyIndustryClass&#123;code:pcode&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>行业<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="组织机构与国家建立关系"><a href="#组织机构与国家建立关系" class="headerlink" title="组织机构与国家建立关系"></a>组织机构与国家建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>r:Country&#123;code_n:o<span class="token punctuation">.</span>CountryCode&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:国家<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="组织机构与行政区划建立关系"><a href="#组织机构与行政区划建立关系" class="headerlink" title="组织机构与行政区划建立关系"></a>组织机构与行政区划建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>r:Region&#123;code:o<span class="token punctuation">.</span>ProvinceCode&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:行政区划<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>r:Region&#123;code:o<span class="token punctuation">.</span>CityCode&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:行政区划<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>o:Organization<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>r:Region&#123;code:o<span class="token punctuation">.</span>DistrictCode<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:行政区划<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="机械库-通用"><a href="#机械库-通用" class="headerlink" title="机械库-通用"></a>机械库-通用</h3><h4 id="导入通用机械库数据"><a href="#导入通用机械库数据" class="headerlink" title="导入通用机械库数据"></a>导入通用机械库数据</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///通用机械入库.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Machine:Common &#123;uuid: <span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>dataType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>dataType<span class="token punctuation">,</span>m<span class="token punctuation">.</span>typeUuid<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>cName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>clauseExplain<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>standardNos<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>picIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>videoIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="机械库根据uuid创建上下级关系"><a href="#机械库根据uuid创建上下级关系" class="headerlink" title="机械库根据uuid创建上下级关系"></a>机械库根据uuid创建上下级关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :Machine<span class="token punctuation">(</span>uuid<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>r:Machine:Common<span class="token punctuation">)</span><span class="token keyword">where</span> r<span class="token punctuation">.</span>typeUuid <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>unwind <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>rp:Machine:Common<span class="token punctuation">)</span>     <span class="token keyword">where</span> rp<span class="token punctuation">.</span>uuid<span class="token operator">=</span>i<span class="token punctuation">.</span>typeUuid    <span class="token keyword">with</span> i<span class="token punctuation">,</span>rp    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>rp<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用机械库规范入库"><a href="#通用机械库规范入库" class="headerlink" title="通用机械库规范入库"></a>通用机械库规范入库</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///通用机械规范属性表.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="根据机械库standardNos，与标准规范库建立关系"><a href="#根据机械库standardNos，与标准规范库建立关系" class="headerlink" title="根据机械库standardNos，与标准规范库建立关系"></a>根据机械库standardNos，与标准规范库建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Machine:Common&#123;dataType:<span class="token string">'1'</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">where</span> m<span class="token punctuation">.</span>standardNos <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">with</span> m<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>standardNos<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> standardNoListunwind standardNoList <span class="token keyword">as</span> standardNo<span class="token keyword">with</span> m<span class="token punctuation">,</span> standardNo<span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span> <span class="token keyword">where</span> s<span class="token punctuation">.</span>path <span class="token keyword">contains</span> standardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>涉及规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通用机械媒体文件导入且与机械节点创建关系"><a href="#通用机械媒体文件导入且与机械节点创建关系" class="headerlink" title="通用机械媒体文件导入且与机械节点创建关系"></a>通用机械媒体文件导入且与机械节点创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///通用机械-图片.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>f:MediaFile&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>f<span class="token punctuation">.</span>filePath<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>filePath<span class="token punctuation">,</span>f<span class="token punctuation">.</span>mediaType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>mediaType<span class="token keyword">with</span> f<span class="token punctuation">,</span><span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>j:Common&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>jixieUuid&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>包含文件<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="机械库-产品"><a href="#机械库-产品" class="headerlink" title="机械库-产品"></a>机械库-产品</h3><h4 id="导入产品机械库数据"><a href="#导入产品机械库数据" class="headerlink" title="导入产品机械库数据"></a>导入产品机械库数据</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///建筑机械与设备-产品类入库.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Machine:PdType &#123;uuid: <span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>dataType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>dataType<span class="token punctuation">,</span>m<span class="token punctuation">.</span>typeUuid<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>cName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>clauseExplain<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>standardNos<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>picIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>videoIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="机械库根据uuid创建上下级关系-1"><a href="#机械库根据uuid创建上下级关系-1" class="headerlink" title="机械库根据uuid创建上下级关系"></a>机械库根据uuid创建上下级关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> <span class="token keyword">on</span> :Machine<span class="token punctuation">(</span>uuid<span class="token punctuation">)</span><span class="token punctuation">;</span>:auto <span class="token keyword">match</span> <span class="token punctuation">(</span>r:Machine:PdType<span class="token punctuation">)</span><span class="token keyword">where</span> r<span class="token punctuation">.</span>typeUuid <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>unwind <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token keyword">as</span> i<span class="token keyword">call</span> &#123;    <span class="token keyword">with</span> i    <span class="token keyword">match</span> <span class="token punctuation">(</span>rp:Machine:PdType<span class="token punctuation">)</span>     <span class="token keyword">where</span> rp<span class="token punctuation">.</span>uuid<span class="token operator">=</span>i<span class="token punctuation">.</span>typeUuid    <span class="token keyword">with</span> i<span class="token punctuation">,</span>rp    <span class="token keyword">merge</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>rp<span class="token punctuation">)</span>&#125; <span class="token operator">IN</span> <span class="token keyword">TRANSACTIONS</span> <span class="token keyword">OF</span> <span class="token number">2000</span> <span class="token keyword">ROWS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品机械库规范入库"><a href="#产品机械库规范入库" class="headerlink" title="产品机械库规范入库"></a>产品机械库规范入库</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///第二批机械库规范属性表.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="根据产品机械库standardNos，与标准规范库建立关系"><a href="#根据产品机械库standardNos，与标准规范库建立关系" class="headerlink" title="根据产品机械库standardNos，与标准规范库建立关系"></a>根据产品机械库standardNos，与标准规范库建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Machine:PdType&#123;dataType:<span class="token string">'1'</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">where</span> m<span class="token punctuation">.</span>standardNos <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">with</span> m<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>standardNos<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> standardNoListunwind standardNoList <span class="token keyword">as</span> standardNo<span class="token keyword">with</span> m<span class="token punctuation">,</span> standardNo<span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span> <span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>standardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>涉及规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="创建机械库类型，并与机械库建立关系"><a href="#创建机械库类型，并与机械库建立关系" class="headerlink" title="创建机械库类型，并与机械库建立关系"></a>创建机械库类型，并与机械库建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Create</span> <span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">0</span><span class="token punctuation">,</span>typeName:<span class="token string">'建筑机械与设备——通用类'</span>&#125;<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">Create</span> <span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">1</span><span class="token punctuation">,</span>typeName:<span class="token string">'建筑机械与设备——产品类'</span>&#125;<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">Create</span> <span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">2</span><span class="token punctuation">,</span>typeName:<span class="token string">'船舶'</span>&#125;<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Common<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">0</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:JiXieType<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>m:PdType<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">1</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:JiXieType<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Ship<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">2</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:JiXieType<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:Common<span class="token punctuation">)</span> remove n:Common<span class="token punctuation">;</span><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:PdType<span class="token punctuation">)</span> remove n:PdType<span class="token punctuation">;</span><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:Ship<span class="token punctuation">)</span> remove n:Ship<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品机械数据修改"><a href="#产品机械数据修改" class="headerlink" title="产品机械数据修改"></a>产品机械数据修改</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///建筑机械与设备-产品类入库.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Machine&#123;uuid: <span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">match</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>dataType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>dataType<span class="token punctuation">,</span>m<span class="token punctuation">.</span>typeUuid<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>cName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>clauseExplain<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>standardNos<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>picIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>videoIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品机械补充规范标准数据导入"><a href="#产品机械补充规范标准数据导入" class="headerlink" title="产品机械补充规范标准数据导入"></a>产品机械补充规范标准数据导入</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///第二批机械库规范属性表2022727补充.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="产品机械图片数据导入，并建立关系"><a href="#产品机械图片数据导入，并建立关系" class="headerlink" title="产品机械图片数据导入，并建立关系"></a>产品机械图片数据导入，并建立关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///建筑机械与设备-产品类图片路径.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>f:MediaFile&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>f<span class="token punctuation">.</span>filePath<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>filePath<span class="token punctuation">,</span>f<span class="token punctuation">.</span>mediaType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>mediaType<span class="token keyword">with</span> f<span class="token punctuation">,</span><span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>j:Machine&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>JXuuid&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>包含文件<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="机械库-船舶"><a href="#机械库-船舶" class="headerlink" title="机械库-船舶"></a>机械库-船舶</h3><h4 id="导入船舶机械库数据并与类型创建关系"><a href="#导入船舶机械库数据并与类型创建关系" class="headerlink" title="导入船舶机械库数据并与类型创建关系"></a>导入船舶机械库数据并与类型创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///船舶入库.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>m:Machine &#123;uuid: <span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>m<span class="token punctuation">.</span>dataType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>dataType<span class="token punctuation">,</span>m<span class="token punctuation">.</span>typeUuid<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>typeUuid <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>cName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>cName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>eName<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>eName <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span><span class="token keyword">explain</span><span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span><span class="token keyword">explain</span> <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>clauseExplain<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>clauseExplain <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>standardNos<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardNos <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>picIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>picIds <span class="token keyword">END</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>videoIds<span class="token operator">=</span><span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">when</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>videoIds <span class="token keyword">END</span><span class="token keyword">with</span> m<span class="token punctuation">,</span><span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>n:JiXieType&#123;typeCode:<span class="token number">2</span>&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:JiXieType<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="导入船舶新增规范"><a href="#导入船舶新增规范" class="headerlink" title="导入船舶新增规范"></a>导入船舶新增规范</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///第三批机械库规范属性表.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>s:StandardizingDocument &#123;hasNO: <span class="token keyword">row</span><span class="token punctuation">.</span>hasNO&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span> s<span class="token punctuation">.</span>nameCN <span class="token operator">=</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameCN<span class="token punctuation">,</span> s<span class="token punctuation">.</span>nameEN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>nameEN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>levelsOrCategories <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>levelsOrCategories <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>fileCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>fileCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>standardCode <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>standardCode <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasSN <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasSN <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseYear <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseYear <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasIS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasIS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasCCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasCCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>releaseDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>implementationDate <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>implementationDate<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasAQ <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasAQ <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>replacedNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>replacedNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>degreeOfConsistencyIdentification <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>releaseMechanism <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>releaseMechanism <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>updated <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>updated <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token keyword">row</span><span class="token punctuation">.</span>updated<span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>maintainerNO <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>maintainerNO <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>hasGBW_CCS <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>hasGBW_CCS <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>state <span class="token keyword">END</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">WHEN</span> <span class="token string">""</span> <span class="token keyword">THEN</span> <span class="token boolean">null</span> <span class="token keyword">ELSE</span> <span class="token keyword">row</span><span class="token punctuation">.</span>path <span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="船舶类机械与规范创建关系"><a href="#船舶类机械与规范创建关系" class="headerlink" title="船舶类机械与规范创建关系"></a>船舶类机械与规范创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span> <span class="token punctuation">(</span>m:Machine<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>:JiXieType&#123;typeCode: <span class="token number">2</span>&#125;<span class="token punctuation">)</span> <span class="token keyword">where</span> m<span class="token punctuation">.</span>standardNos <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">with</span> m<span class="token punctuation">,</span> split<span class="token punctuation">(</span><span class="token keyword">coalesce</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>standardNos<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> standardNoListunwind standardNoList <span class="token keyword">as</span> standardNo<span class="token keyword">with</span> m<span class="token punctuation">,</span> standardNo<span class="token keyword">match</span> <span class="token punctuation">(</span>s:StandardizingDocument<span class="token punctuation">)</span> <span class="token keyword">where</span> s<span class="token punctuation">.</span>hasNO<span class="token operator">=</span>standardNo<span class="token keyword">merge</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>涉及规范<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="船舶类机械图片视频导入，并创建关系"><a href="#船舶类机械图片视频导入，并创建关系" class="headerlink" title="船舶类机械图片视频导入，并创建关系"></a>船舶类机械图片视频导入，并创建关系</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">LOAD</span> CSV <span class="token keyword">WITH</span> HEADERS<span class="token keyword">FROM</span> <span class="token string">'file:///船舶图片路径.csv'</span> <span class="token keyword">AS</span> <span class="token keyword">row</span><span class="token keyword">MERGE</span> <span class="token punctuation">(</span>f:MediaFile&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>uuid&#125;<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">CREATE</span> <span class="token keyword">SET</span>f<span class="token punctuation">.</span>filePath<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>filePath<span class="token punctuation">,</span>f<span class="token punctuation">.</span>mediaType<span class="token operator">=</span><span class="token keyword">row</span><span class="token punctuation">.</span>mediaType<span class="token keyword">with</span> f<span class="token punctuation">,</span><span class="token keyword">row</span><span class="token keyword">match</span> <span class="token punctuation">(</span>j:Machine&#123;uuid:<span class="token keyword">row</span><span class="token punctuation">.</span>JXuuid&#125;<span class="token punctuation">)</span><span class="token keyword">merge</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:<span class="token identifier"><span class="token punctuation">`</span>包含文件<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Neo4J </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚本 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>示例脚本</title>
      <link href="/2022/07/19/%E7%A4%BA%E4%BE%8B%E8%84%9A%E6%9C%AC/"/>
      <url>/2022/07/19/%E7%A4%BA%E4%BE%8B%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">MATCH</span> p<span class="token operator">=</span><span class="token punctuation">(</span>n:Region<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token operator">*</span><span class="token number">0.</span><span class="token number">.2</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>:Region&#123;name:<span class="token string">'芝罘区'</span>&#125;<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>:Region<span class="token punctuation">)</span> <span class="token keyword">match</span> pp<span class="token operator">=</span><span class="token punctuation">(</span>n:Region&#123;name:<span class="token string">'山东省'</span>&#125;<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>:Region&#123;name:<span class="token string">'烟台市'</span>&#125;<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>隶属<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>:Region<span class="token punctuation">)</span>  <span class="token keyword">RETURN</span> p<span class="token punctuation">,</span>pp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">MATCH</span> p<span class="token operator">=</span><span class="token punctuation">(</span>n:Organization<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>产品<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">match</span> p1<span class="token operator">=</span><span class="token punctuation">(</span>n:Organization<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>国家<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">match</span> p2<span class="token operator">=</span><span class="token punctuation">(</span>n:Organization<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>行业<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">match</span> p3<span class="token operator">=</span><span class="token punctuation">(</span>n:Organization<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>行政区划<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">RETURN</span> p<span class="token punctuation">,</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n:Material<span class="token punctuation">)</span> <span class="token keyword">RETURN</span> n <span class="token keyword">LIMIT</span> <span class="token number">50</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">MATCH</span> p<span class="token operator">=</span> <span class="token punctuation">(</span>n:NationEconomyIndustryClass&#123;name:<span class="token string">'建筑业'</span>&#125;<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span>:NationEconomyIndustryClass&#123;name:<span class="token string">'土木工程建筑业'</span>&#125;<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:<span class="token identifier"><span class="token punctuation">`</span>下级分类<span class="token punctuation">`</span></span><span class="token operator">*</span><span class="token number">0.</span><span class="token number">.3</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">RETURN</span> p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">match</span>  p<span class="token operator">=</span> <span class="token punctuation">(</span>m:Staff&#123;staffId:<span class="token string">'GT1183'</span>&#125;<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">*</span><span class="token number">0.</span><span class="token number">.1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Neo4J </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚本 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
